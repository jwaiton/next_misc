<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>functions</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/e78368jw/Documents/NEXT_CODE/next_misc/core/functions.py">/home/e78368jw/Documents/NEXT_CODE/next_misc/core/functions.py</a></font></td></tr></table>
    <p><tt>AN&nbsp;OVERARCHING&nbsp;PYTHON&nbsp;SCRIPT&nbsp;THAT&nbsp;IM&nbsp;GOING&nbsp;TO&nbsp;FORCE&nbsp;ALL&nbsp;MY&nbsp;FUNCTIONS&nbsp;INTO&nbsp;ONE&nbsp;WAY&nbsp;OR&nbsp;ANOTHER<br>
IM&nbsp;NOT&nbsp;COPYING&nbsp;AND&nbsp;PASTING&nbsp;THE&nbsp;'LOAD_DATA'&nbsp;FUNCTION&nbsp;EVER&nbsp;AGAIN.&nbsp;I&nbsp;REFUSE.<br>
&nbsp;<br>
Any&nbsp;time&nbsp;I&nbsp;need&nbsp;to&nbsp;use&nbsp;a&nbsp;function,&nbsp;I'm&nbsp;adding&nbsp;it&nbsp;to&nbsp;this&nbsp;stupidly&nbsp;long&nbsp;list&nbsp;of&nbsp;functions</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="IC.invisible_cities.io.dst_io.html">IC.invisible_cities.io.dst_io</a><br>
<a href="IC.invisible_cities.io.mcinfo_io.html">IC.invisible_cities.io.mcinfo_io</a><br>
<a href="numpy.html">numpy</a><br>
</td><td width="25%" valign=top><a href="os.html">os</a><br>
<a href="pandas.html">pandas</a><br>
<a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
</td><td width="25%" valign=top><a href="scipy.special.html">scipy.special</a><br>
<a href="sys.html">sys</a><br>
<a href="tables.html">tables</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-apply_FOM"><strong>apply_FOM</strong></a>(path, data, cut_list)</dt><dd><tt>Function&nbsp;that&nbsp;applies&nbsp;the&nbsp;figure&nbsp;of&nbsp;merit&nbsp;calculation<br>
outputs&nbsp;its&nbsp;best&nbsp;value&nbsp;and&nbsp;blob-2&nbsp;position</tt></dd></dl>
 <dl><dt><a name="-apply_cuts"><strong>apply_cuts</strong></a>(tracks, lower_z=20, upper_z=1195, r_lim=472, lower_e=1.5, upper_e=1.7)</dt><dd><tt>Applies&nbsp;all&nbsp;cuts,&nbsp;returns&nbsp;dataframe&nbsp;and&nbsp;efficiency&nbsp;table</tt></dd></dl>
 <dl><dt><a name="-blob_positron_plot"><strong>blob_positron_plot</strong></a>(ecut_rel, ecut_no_positron_df, save=False, save_title='plot.png')</dt><dd><tt>Plots&nbsp;the&nbsp;blob&nbsp;energies&nbsp;with&nbsp;and&nbsp;without&nbsp;positrons.</tt></dd></dl>
 <dl><dt><a name="-cut_effic"><strong>cut_effic</strong></a>(df1, df2, verbose=False)</dt><dd><tt>Prints&nbsp;efficiency&nbsp;of&nbsp;cuts&nbsp;for&nbsp;singular&nbsp;cut<br>
df1&nbsp;-&gt;&nbsp;cut&nbsp;df<br>
df2&nbsp;-&gt;&nbsp;initial&nbsp;df</tt></dd></dl>
 <dl><dt><a name="-energy_cuts"><strong>energy_cuts</strong></a>(df, lower_e=1.5, upper_e=1.7, verbose=False)</dt><dd><tt>Apply&nbsp;cuts&nbsp;around&nbsp;the&nbsp;relevant&nbsp;energy</tt></dd></dl>
 <dl><dt><a name="-energy_track_plots"><strong>energy_track_plots</strong></a>(tracks)</dt><dd><tt>Plot&nbsp;the&nbsp;2D&nbsp;histogram&nbsp;of&nbsp;number&nbsp;of&nbsp;tracks&nbsp;against&nbsp;track&nbsp;energy</tt></dd></dl>
 <dl><dt><a name="-fiducial_track_cut_2"><strong>fiducial_track_cut_2</strong></a>(df, lower_z=20, upper_z=1195, r_lim=472, verbose=False)</dt><dd><tt>Produces&nbsp;fiducial&nbsp;track&nbsp;cuts&nbsp;while&nbsp;removing&nbsp;all&nbsp;events&nbsp;that&nbsp;have&nbsp;outer&nbsp;fiducial&nbsp;tracks</tt></dd></dl>
 <dl><dt><a name="-get_weights"><strong>get_weights</strong></a>(data, norm)</dt><dd><tt>useful&nbsp;function&nbsp;for&nbsp;normalising&nbsp;histograms<br>
Source&nbsp;from&nbsp;Helena's&nbsp;functions</tt></dd></dl>
 <dl><dt><a name="-len_events"><strong>len_events</strong></a>(df)</dt><dd><tt>Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;unique&nbsp;events&nbsp;as&nbsp;len(df)&nbsp;doesn't&nbsp;work&nbsp;in&nbsp;this&nbsp;case</tt></dd></dl>
 <dl><dt><a name="-load_data"><strong>load_data</strong></a>(folder_path)</dt><dd><tt>give&nbsp;folder&nbsp;path&nbsp;of&nbsp;h5&nbsp;files,&nbsp;and&nbsp;it'll&nbsp;take&nbsp;the&nbsp;/Tracking/Tracks,&nbsp;MC/particles,&nbsp;and&nbsp;the&nbsp;event&nbsp;map.<br>
outputs&nbsp;tuple&nbsp;as:&nbsp;(tracks,&nbsp;particles,&nbsp;eventmap)</tt></dd></dl>
 <dl><dt><a name="-one_track_cuts"><strong>one_track_cuts</strong></a>(df, verbose=False)</dt><dd><tt>Remove&nbsp;events&nbsp;with&nbsp;more&nbsp;than&nbsp;one&nbsp;track<br>
THERE&nbsp;IS&nbsp;A&nbsp;COLUMN&nbsp;WITH&nbsp;THIS&nbsp;INFO&nbsp;IN&nbsp;IT,&nbsp;CALCULATING&nbsp;IT&nbsp;IS&nbsp;UNNECESSARY</tt></dd></dl>
 <dl><dt><a name="-overlapping_cuts"><strong>overlapping_cuts</strong></a>(df, verbose=False)</dt><dd><tt>Remove&nbsp;all&nbsp;events&nbsp;with&nbsp;energy&nbsp;overlap&nbsp;!=&nbsp;0</tt></dd></dl>
 <dl><dt><a name="-plot_2Dhist"><strong>plot_2Dhist</strong></a>(ND_array, xlabel, ylabel, title='2D Histogram', xlabel_title='x axis', ylabel_title='y axis')</dt><dd><tt>ND_array&nbsp;-&gt;&nbsp;input&nbsp;array&nbsp;of&nbsp;NxN&nbsp;dimensions.&nbsp;MAKE&nbsp;SURE&nbsp;ITS&nbsp;NUMPY&nbsp;HSTACKED&nbsp;ARRAY<br>
xlabel&nbsp;&nbsp;&nbsp;-&gt;&nbsp;x&nbsp;label&nbsp;list<br>
ylabel&nbsp;&nbsp;&nbsp;-&gt;&nbsp;y&nbsp;label&nbsp;list<br>
&nbsp;<br>
To&nbsp;make&nbsp;array&nbsp;suitable&nbsp;for&nbsp;input&nbsp;use&nbsp;function&nbsp;similar&nbsp;to&nbsp;this:<br>
array&nbsp;=&nbsp;np.hstack((array_1,&nbsp;array_2,&nbsp;array_3,&nbsp;array_4,&nbsp;array_5,&nbsp;array_6)).reshape(-1,array_1.shape[0])</tt></dd></dl>
 <dl><dt><a name="-plot_hist"><strong>plot_hist</strong></a>(df, column='energy', binning=20, title='Energy plot', output=False, fill=True, label='default', x_label='energy (MeV)', range=0, log=True, data=False, save=False, save_dir='')</dt><dd><tt>Print&nbsp;a&nbsp;histogram&nbsp;of&nbsp;energy&nbsp;from&nbsp;our&nbsp;dataframe,.</tt></dd></dl>
 <dl><dt><a name="-positron_scraper"><strong>positron_scraper</strong></a>(data_path, save=False)</dt><dd><tt>Function&nbsp;that&nbsp;iterates&nbsp;over&nbsp;files&nbsp;with&nbsp;MC&nbsp;and&nbsp;collects&nbsp;only&nbsp;positron&nbsp;events.<br>
Intended&nbsp;to&nbsp;reduce&nbsp;the&nbsp;memory&nbsp;resources&nbsp;of&nbsp;MC&nbsp;data.</tt></dd></dl>
 <dl><dt><a name="-remove_low_E_events"><strong>remove_low_E_events</strong></a>(df, energy_limit=0.05)</dt><dd><tt>Remove&nbsp;low&nbsp;energy&nbsp;tracks,&nbsp;add&nbsp;their&nbsp;energy&nbsp;back&nbsp;to&nbsp;the&nbsp;first<br>
track&nbsp;and&nbsp;then&nbsp;update&nbsp;'numb_of_tracks'&nbsp;to&nbsp;be&nbsp;up&nbsp;to&nbsp;date</tt></dd></dl>
 <dl><dt><a name="-scrape_FOM_data"><strong>scrape_FOM_data</strong></a>(data_path)</dt><dd><tt>scrape&nbsp;all&nbsp;FOM&nbsp;data&nbsp;from&nbsp;h5&nbsp;file&nbsp;and&nbsp;plot&nbsp;them</tt></dd></dl>
 <dl><dt><a name="-scrape_any_data"><strong>scrape_any_data</strong></a>(data_path, string_1, string_2, plot_title)</dt><dd><tt>string&nbsp;1&nbsp;and&nbsp;2&nbsp;define&nbsp;the&nbsp;names&nbsp;of&nbsp;the&nbsp;row&nbsp;and&nbsp;columns&nbsp;you<br>
wish&nbsp;to&nbsp;select&nbsp;in&nbsp;your&nbsp;h5&nbsp;file</tt></dd></dl>
 <dl><dt><a name="-true_fom_calc"><strong>true_fom_calc</strong></a>(p_data, no_p_data, cut_list, verbose=False)</dt><dd><tt>produces&nbsp;a&nbsp;figure&nbsp;of&nbsp;merit&nbsp;list&nbsp;based<br>
on&nbsp;cuts&nbsp;to&nbsp;specific&nbsp;categories&nbsp;and&nbsp;their<br>
consequent&nbsp;fits</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>skewnorm</strong> = &lt;scipy.stats._continuous_distns.skew_norm_gen object&gt;</td></tr></table>
</body></html>